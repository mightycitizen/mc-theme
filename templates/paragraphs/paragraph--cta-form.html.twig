{# twig-cs-fixer-disable-next-line #}
{#graphql
query($paragraph_id: ID!) {
  paragraph(id: $paragraph_id) {
    ... on ParagraphCtaForm {
      id
      intro {
        ...Intro
      }
      media {
        ... on MediaImage {
          mediaImage {
            alt
            lg: variations(styles: HORIZONTAL53_LG) { url }
          }
        }
        ... on MediaRemoteVideo {
          mediaOembedVideo
        }
      }
    }
  }
}

fragment Intro on ParagraphIntro {
  id
  body {
    processed
  }
  heading
  label
  icon
  link {
    text: title
    url
    internal
  }
}
#}
{% set cta = graphql.paragraph %}

{% set inline_intro %}
  {{ include('mc_theme:intro', {
    section_id: id,
    section_heading: cta.intro.heading,
    section_description: cta.intro.body.processed,
    section_label: {
      icon: cta.intro.icon ? mc_icon(cta.intro.icon) : NULL,
      text: cta.intro.label,
    },
    section_button: cta.intro.link,
    divider: FALSE,
    section_image: cta.media.mediaImage ? {
      alt: cta.media.mediaImage.alt,
      src: cta.media.mediaImage.lg.0.url,
    } : NULL,
    narrow_image: cta.media.mediaImage ?? FALSE,
    intro_content: content.field_form.0,
  }) }}
{% endset %}

{% set section_content %}
  {{ inline_intro }}
  {# {{ content.field_form.0 }} #}
{% endset %}


{% block content %}
  {{ include('mc_theme:cta', {
    intro,
  }) }}
{% endblock %}
