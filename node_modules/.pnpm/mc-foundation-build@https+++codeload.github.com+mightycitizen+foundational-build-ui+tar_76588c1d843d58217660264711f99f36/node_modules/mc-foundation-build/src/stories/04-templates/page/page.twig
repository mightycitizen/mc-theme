{% set header = header ?? null %}
{% set footer = footer ?? null %}
{% set padding = padding ?? '' %}
{% set end_to_end = end_to_end ?? false %}
{% set sidebar = sidebar ?? null %}
{% set sidebar_bottom = sidebar_bottom ?? null %}
{% block header %}
  {{ header }}
{% endblock %}

{% if end_to_end %}
  {# Full width content (usually made up of modules that use section.twig already) #}
  {{ hero_section }}
  {{ content }}
{% else %}
  {% if sidebar is empty and sidebar_bottom is empty %}
    {# Sidebar layouts have inline hero, otherwise render full width here #}
    {{ hero_section }}
  {% endif %}
  {% embed '@organisms/section/section-embed.twig' with {
    padding: padding,
  } %}
    {% block section_content %}
      {% if sidebar or sidebar_bottom %}
        {# Sidebars, hero, and content inside section container #}
        {% include '@base/layout/layout.twig' %}
      {% else %}
        {# Just content inside section container #}
        {{ content }}
      {% endif %}
    {% endblock %}
  {% endembed %}
{% endif %}

{% block footer %}
  {{ footer }}
{% endblock %}
