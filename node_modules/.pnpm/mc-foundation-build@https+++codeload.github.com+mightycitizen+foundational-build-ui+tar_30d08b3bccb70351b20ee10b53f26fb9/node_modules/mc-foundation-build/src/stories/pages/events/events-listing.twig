{% extends '@wrappers/default.twig' %}
{% set type = {
  label: 'News',
  handle: 'news'
}%}
{% block top %}
  {% include '@organisms/hero/hero.twig'  with {
    heading: 'Search Events'
  } %}
{% endblock %}
{% block main %}
  <div x-data="{ open: false }" class="inner-main-wrapper">
    <div class="container">
      <div class="grid grid-cols-12 gap-6 items-center">
        <div class="col-span-12 ">
          <h2 class="md:text-[2rem] mb-2">{{ heading }}</h2>

          <div class="md:flex justify-between items-center">
            <button class="button tertiary md:hidden" x-on:click="open = ! open">
              <span class="ph ph-[sliders-horizontal]"></span>
              <span class="">Filter</span>
            </button>
          </div>

          {% if subheading | default %}
            <p class="text-2xl">{{ subheading }}</p>
          {% endif %}

          {% if summary | default %}
            <p class="text-lg">{{ summary }}</p>
          {% endif %}

          <div class="flex flex-wrap flex-col lg:flex-row items-start lg:items-center gap-4 lg:gap-8 pb-5 lg:pb-0">
            {% if hero_button | default %}
              {% include '@atoms/links/button/button.twig' with hero_button | merge({
                classes: 'text-lg items-center',
                icon: 'arrow-circle-right'
              }) only %}
            {% endif %}

            {% if readmore_link | default %}
              {% include '@atoms/links/read-more/read-more.twig' with readmore_link | merge({
                class: 'text-white justify-left lg:justify-center'
              }) only %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    {% set sidebar %}
      <div x-show="open" x-transition class="filters-wrapper md:!block">
        <h2>Filter results</h2>

        <div>
          <div data-active-filters="" data-active-filters-clearable="" class="active-filters" data-once="active-filters-removable active-filters-clear-all">
            <button class="bg-primary border-[1px] border-neutrals-300 rounded-[4px] px-2 py-2 text-xs text-white hover:bg-primary-700">Clear All Filters <span class="icon-x"></span></button>
          </div>
        </div>

        {% include '@molecules/listings/filter/filter.twig' with {
          ajax: true
        }%}
      </div>
    {% endset %}

    {% set content %}
      {% include '@atoms/forms/hero-search-form/hero-search-form.twig' %}
      <div class="flex justify-between items-center py-4">
        <div data-active-filters="" data-active-filters-clearable="" class="active-filters" data-once="active-filters-removable active-filters-clear-all">

          <dl class="active-filters__list">
            <dt class="active-filters__title hidden"><h2>Filters Applied:</h2></dt>
            <dl>
              <span class="font-bold">Filters Applied (#):</span>
            </dl>
            <dl class="active-filters__item">
              <button data-active-filter-name="field_feature_type_target_id" data-active-filter-value="26" aria-label="Remove filter Topics value Effective Instruction" data-active-filter-removable="" class="active-filters__button">Category <span class="icon-x"></span></button>
            </dl>
            <dl class="active-filters__item">
              <button data-active-filter-name="field_feature_type_target_id" data-active-filter-value="28" aria-label="Remove filter Topics value Family Engagement" data-active-filter-removable="" class="active-filters__button">Category <span class="icon-x"></span></button>
            </dl>
            <dl class="active-filters__item">
              <button data-active-filter-name="field_feature_type_target_id" data-active-filter-value="28" aria-label="Remove filter Topics value Family Engagement" data-active-filter-removable="" class="active-filters__button">Category <span class="icon-x"></span></button>
            </dl>

          </dl>
        </div>
        <div class="flex items-center justify-end gap-x-4">
          <label class="shrink-0 mb-0" for="dropdown">Sort By </label>
          <select id="dropdown" class="" name="dropdown">
            <option value="">Relevance</option>
            <option value="0">Dropdown A</option>
            <option value="1">Dropdown B</option>
            <option value="2">Dropdown C</option>
          </select>
        </div>
      </div>

      <p>Showing 1 to 100 [total #] results.</p>

      {% include '@components/listing/list/list-cards.twig' with cards %}

      {% include '@molecules/pagination/pagination.twig' with pagination %}
    {% endset %}

    {% embed '@organisms/section/section-embed.twig' with {
      section_class: 'pt-0 lg:pt-11',
      padding: 'tight',
    } %}
      {% block section_content %}
        {% include '@base/layout/content-with-sidebar.twig' %}
      {% endblock %}
    {% endembed %}
  </div>
{% endblock %}
